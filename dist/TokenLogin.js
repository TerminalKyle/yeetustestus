function M(e){window.enmity.plugins.registerPlugin(e)}var S;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(S||(S={}));var m;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(m||(m={}));var l;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(l||(l={}));var _;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(_||(_={}));var c;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(c||(c={}));var D;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(D||(D={}));function N(e,t){return window.enmity.modules.getModule(e,t)}function w(...e){return window.enmity.modules.getByProps(...e)}function b(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common,window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native,window.enmity.modules.common.React,window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog;const d=window.enmity.modules.common.Token;window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function o(e){return window.enmity.assets.getIDByName(e)}const a=w("loginToken");N(e=>e==null?void 0:e.ButtonColors);const P=e=>e.id?{id:e.id,username:e.username,discriminator:e.discriminator,avatar:e.avatar,...e.email&&{email:e.email},...e.phone&&{phone:e.phone}}:{};async function U(e){const t=await(await fetch("https://discord.com/api/v9/users/@me",{headers:{authorization:e}})).json();return P(t)}o("add_white"),o("Check"),o("ic_highlight"),o("ic_full_server_gating_24px"),o("ic_my_account_24px"),o("img_nitro_server_avatar"),o("settings"),o("ic_trash_filled_16px"),o("ic_sort"),w("openLazy","hideActionSheet"),w("hex2int"),b("CustomColorPickerActionSheet");function i(e,t,n,r){window.enmity.clyde.sendReply(e,t,n,r)}var x="TokenLogin",L="1.0.5",R="Login to Discord using a token.",F="#64D3FF",I=[{name:"kyle",id:"1278523345498800130"}],G={name:x,version:L,description:R,color:F,authors:I};const z={...G,commands:[],onStart(){const e={id:"token-login-command",name:"token",displayName:"token",description:"Login to Discord using a token",displayDescription:"Login to Discord using a token",type:m.Chat,inputType:l.BuiltInText,options:[{name:"token",displayName:"token",description:"Your Discord token",displayDescription:"Your Discord token",required:!0,type:c.String}],execute:async function(t,n){var r,g,h,v,k,y,f;try{const s=(r=t[0])==null?void 0:r.value;if(!s)return i(((g=n==null?void 0:n.channel)==null?void 0:g.id)||"","\u274C Please provide a token."),{send:!1};i(((h=n==null?void 0:n.channel)==null?void 0:h.id)||"","\u23F3 Validating token...");try{const u=await U(s);if(!u.id)return i(((v=n==null?void 0:n.channel)==null?void 0:v.id)||"","\u274C Invalid token. Please check your token and try again."),{send:!1};const B=window.enmity.settings.makeStore("token-login");B.set("saved_token",s),B.set("user_info",u);try{d&&d.setToken?(d.setToken(s),d.init&&d.init()):a&&a.loginToken&&a.loginToken(s)}catch{i(((k=n==null?void 0:n.channel)==null?void 0:k.id)||"","\u26A0\uFE0F Token set but error.")}return i(((y=n==null?void 0:n.channel)==null?void 0:y.id)||"",`\u2705 Successfully logged in as **${u.username}#${u.discriminator}**! Reloading...`),setTimeout(()=>{window.enmity.native.reload()},3e3),{send:!1}}catch{return i(((f=n==null?void 0:n.channel)==null?void 0:f.id)||"","\u274C Failed to validate token. Please check your token and try again."),{send:!1}}}catch{return{send:!1}}}};this.commands.push(e)},onStop(){this.commands=[]}};M(z);
